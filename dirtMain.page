Menu="DiskUtilities"
Title="Deduplication in Real-Time"
Icon="fa-search-minus"
---
<?PHP

?>
<head>
    <link type="text/css" rel="stylesheet" href="<?autov('/plugins/bobbintb.system.dirt/css/dirt.css');?>">
    <link href="https://unpkg.com/tabulator-tables@6.3/dist/css/tabulator.min.css" rel="stylesheet">
    <script type="text/javascript" src="https://unpkg.com/tabulator-tables@6.3/dist/js/tabulator.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/luxon/build/global/luxon.min.js"></script>
</head>
<script>

    async function clear() {
        console.error('clear')
        try {
            const response = await fetch(`<?php echo "http://" . $_SERVER["SERVER_ADDR"] . ":3000"; ?>/clear/`, {
                method: 'POST',
                headers: {
                    'Content-Type': 'application/json'
                },
            });
            if (!response.ok) {
                throw new Error(`HTTP error! status: ${response.status}`);
            }
        } catch (error) {
            console.error('Error fetching data:', error);
            return null;
        }
    }
</script>
<body>
<div id="buttonBox" style="margin-top: -5px; text-align: right;">
    <input type="button" value="_(Clear)_" onclick="clear()">
</div>
<div id="dirt"><?php include './plugins/bobbintb.system.dirt/php/dirt.php'; ?></div>
</body>
