Menu="DiskUtilities"
Title="Deduplication in Real-Time "
Icon="fa-search-minus"
---
<?PHP

?>
<head>
    <link type="text/css" rel="stylesheet" href="<?autov('/plugins/bobbintb.system.dirt/css/dirt.css');?>">
    <link href="https://unpkg.com/tabulator-tables@6.3/dist/css/tabulator.min.css" rel="stylesheet">
    <script type="text/javascript" src="https://unpkg.com/tabulator-tables@6.3/dist/js/tabulator.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/luxon/build/global/luxon.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/xterm@4.8.0/lib/xterm.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/@xterm/addon-fit@0.5.0/lib/xterm-addon-fit.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/@xterm/addon-attach@0.5.0/lib/xterm-addon-attach.js"></script>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/xterm@4.8.0/css/xterm.css" />

</head>
<body>
<script>

const title = document.querySelector(".title");
title.style.display = "flex";
title.style.flexDirection = "row";
title.style.justifyContent = "space-between";
title.style.alignItems = "center";

title.insertAdjacentHTML("beforeend", `
    <span class="right">
        <input type="button" id="processButton" value="Process" style="margin-top: 0px; margin-bottom: 0px;">
        <input type="button" id="clearButton" value="Clear" style="margin-top: 0px; margin-bottom: 0px;">
    </span>
`);

    const socket = new WebSocket(`<?php echo "ws://" . $_SERVER["SERVER_ADDR"] . ":3001"; ?>`);

// Listen for messages from the server
socket.addEventListener('message', (event) => {
    const consoleOutput = document.getElementById('console-output');
    consoleOutput.innerHTML = event.data;  // Append new messages to the console output
});

</script>
<!-- <div id="buttonBox" style="margin-top: -5px; text-align: right;">
    <input type="button" id="processButton" value="_(Process)_">
    <input type="button" id="clearButton" value="_(Clear)_">
</div> -->
<div id="dirt"><?php include './plugins/bobbintb.system.dirt/php/dirt.php'; ?></div>
<div id="console-output" ></div>
</body>